<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>Playlist â€¢ TiTilda Music</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        :root { color-scheme: dark; }
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif; margin: 0; text-align: center; }
        h1 { margin-bottom: 0; }
        h2 { margin-top: 24px; }

        /* Three-column full-height layout */
        .layout { display: grid; grid-template-columns: 1fr minmax(320px, 960px) 1fr; height: 100vh; }
        .center { position: relative; display: flex; flex-direction: column; align-items: center; padding: 16px; min-height: 100vh; }
        .side { display: flex; align-items: center; }
        .side.left { justify-content: flex-end; padding-right: 16px; }
        .side.right { justify-content: flex-start; padding-left: 16px; }

        .meta { color: #a0a0a0; font-size: 0.9rem; }
        .top { margin-top: 150px; }
        .songs-area { width: 100%; }
        .song-row { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); display: block; width: 100%; }
        .song-table { flex: 1 1 auto; min-width: 0; width: 100%; border-collapse: separate; border-spacing: 8px; margin: 0 auto; table-layout: fixed; }
        .song-cell { border: 1px solid #30363d; background: #1f2328; border-radius: 10px; padding: 12px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .song-cell.invisible { visibility: hidden; }
        .song-cover { width: 100%; aspect-ratio: 1 / 1; background: #14181d; border: 1px solid #30363d; border-radius: 8px; margin-bottom: 8px; }
        .song-text { display: block; width: 100%; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; font-size: 0.9rem; }
        .nav-btn { appearance: none; border: 1px solid #30363d; background: #1f2328; color: #d0d7de; padding: 8px 12px; border-radius: 8px; cursor: pointer; text-decoration: none; display: inline-block; white-space: nowrap; min-width: 120px; text-align: center; }
        .nav-btn:hover { background: #24292f; }
    </style>
</head>

<body>
    <div class="layout" th:with="size=${songs != null ? #lists.size(songs) : 0}">
        <div class="side left">
            <a class="nav-btn" th:if="${playlist != null and offset > 0}"
               th:href="@{|?id=${playlist.id}&offset=${offset - 5}|}">precedenti</a>
        </div>

        <main class="center">
            <div class="top">
                <h1 th:text="${playlist != null ? playlist.name : 'Playlist'}">Playlist Name</h1>
                <p class="meta" th:if="${playlist != null}">Created <span th:text="${#dates.format(playlist.createdAt, 'd MMM yyyy, HH:mm')}">2 Jan 2025, 12:00</span></p>
                <h2>Songs</h2>
                <div th:if="${error}">
                    <p th:text="${error}"></p>
                </div>
            </div>

            <section class="songs-area">
                <div th:if="${songs == null or #lists.isEmpty(songs)}">
                    <p>No songs in this playlist.</p>
                </div>

                <div th:if="${songs != null and !#lists.isEmpty(songs)}">
                    <div class="song-row">
                        <table class="song-table">
                            <colgroup>
                                <col style="width:20%" /><col style="width:20%" /><col style="width:20%" /><col style="width:20%" /><col style="width:20%" />
                            </colgroup>
                            <tr>
                                <td class="song-cell" th:each="col : ${#numbers.sequence(0,4)}" th:classappend="${(offset + col) >= size} ? ' invisible'">
                                    <div class="song-cover"></div>
                                    <span class="song-text" th:text="${(offset + col) < size ? songs[offset + col].title : ''}">Song title</span>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
            </section>
        </main>

        <div class="side right">
            <a class="nav-btn" th:if="${playlist != null and (offset + 5) < size}"
               th:href="@{|?id=${playlist.id}&offset=${offset + 5}|}">successivi</a>
        </div>
    </div>

</body>

</html>

