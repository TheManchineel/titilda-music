<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>Playlist â€¢ TiTilda Music</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        :root { color-scheme: dark; }
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif; margin: 0; text-align: center; }
        h1 { margin-bottom: 0; }
        h2 { margin-top: 24px; }

        /* Simple top-to-bottom layout */
        .container { display: flex; flex-direction: column; align-items: center; padding: 16px; }

        .meta { color: #a0a0a0; font-size: 0.9rem; }
        .song-row { display: flex; align-items: center; justify-content: center; gap: 16px; margin-top: 24px; }
        .song-table { border-collapse: separate; border-spacing: 16px; margin: 0 auto; table-layout: fixed; width: 1100px; }
        .song-cell { border: 1px solid #30363d; background: #1f2328; border-radius: 10px; padding: 12px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .song-cell.invisible { visibility: hidden; }
        .song-cover { width: 100%; aspect-ratio: 1 / 1; background: #14181d; border: 1px solid #30363d; border-radius: 8px; margin-bottom: 8px; }
        .song-text { display: block; width: 100%; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; font-size: 0.9rem; }
        .nav-btn { appearance: none; border: 1px solid #30363d; background: #1f2328; color: #d0d7de; padding: 8px 12px; border-radius: 8px; cursor: pointer; text-decoration: none; display: inline-block; white-space: nowrap; min-width: 120px; text-align: center; }
        .nav-btn:hover { background: #24292f; }
        .nav-btn.invisible { visibility: hidden; }
        .top { margin-top: 150px; }
        .home-link { color: #a0a0a0; text-decoration: none; font-size: 0.95rem; }
        .home-link:hover { text-decoration: underline; color: #d0d7de; }
    </style>
</head>

<body>
    <main class="container" th:with="size=${songs != null ? #lists.size(songs) : 0}">
        <div class="top">
            <a class="home-link" href="/home">&lt; Home</a>
        </div>
        <div>
            <h1 th:text="${playlist != null ? playlist.name : 'Playlist'}">Playlist Name</h1>
            <p class="meta" th:if="${playlist != null}">Created <span th:text="${#dates.format(playlist.createdAt, 'd MMM yyyy, HH:mm')}">2 Jan 2025, 12:00</span></p>
        </div>

        <div th:if="${error}">
            <p th:text="${error}"></p>
        </div>

        <div th:if="${songs == null or #lists.isEmpty(songs)}">
            <p>No songs in this playlist.</p>
        </div>

        <div class="song-row" th:if="${songs != null and !#lists.isEmpty(songs)}">
            <a class="nav-btn" th:classappend="${!(playlist != null and offset > 0)} ? ' invisible'"
               th:href="@{|?id=${playlist.id}&offset=${offset - 5}|}">precedenti</a>

            <table class="song-table">
                <colgroup>
                    <col style="width:20%" /><col style="width:20%" /><col style="width:20%" /><col style="width:20%" /><col style="width:20%" />
                </colgroup>
                <tr>
                    <td class="song-cell" th:each="col : ${#numbers.sequence(0,4)}" th:classappend="${(offset + col) >= size} ? ' invisible'">
                        <div class="song-cover"></div>
                        <span class="song-text" th:text="${(offset + col) < size ? songs[offset + col].title : ''}">Song title</span>
                    </td>
                </tr>
            </table>

            <a class="nav-btn" th:classappend="${!(playlist != null and (offset + 5) < size)} ? ' invisible'"
               th:href="@{|?id=${playlist.id}&offset=${offset + 5}|}">successivi</a>
        </div>
    </main>

</body>

</html>

